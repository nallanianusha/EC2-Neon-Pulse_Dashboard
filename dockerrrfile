FROM python:3.12-slim-bookworm AS build
ADD . /pythonapp
WORKDIR /pythonapp
RUN pip install --prefix=/aws -r requirements.txt

FROM  python:3.12-slim-bookworm AS runtime
LABEL project="python"
LABEL author="devopsteam"
COPY --from=build /pythonapp /anu
COPY --from=build /aws /usr/local
WORKDIR /anu
EXPOSE 5001
CMD ["python", "app.py"]